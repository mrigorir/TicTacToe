#!/usr/bin/env ruby
require_relative '../lib/logic'
require_relative '../lib/game'
def global
  game = Game.new
  indexes_win = [[1, 5, 9], [1, 2, 3], [1, 4, 7], [2, 5, 8], [3, 5, 7], [3, 6, 9], [4, 5, 6], [7, 8, 9]]
  player_char = %w[X O]
  county = 1
  state = ''
  system('clear') || system('cls')
  puts "Welcome to our amazing Tic Tac Toe !!\n\n\n"

  players = game.create_players
  game.gaming(players)
  i = 0
  while i < 9
    j = 0
    while j < 2
      if state != false
        temp = game.check_input(players[j], j, state)
        state = game.tic_tac_toe.arbiter(temp, player_char[j], players[j], indexes_win)
        county += 1
      end
      if county == 9
        p state
        break
      end
      j += 1
    end
    i += 1
    break if county == 9 && state == false
  end
end

global

puts "\n Game over!"

print " \n Do you want do play again? (Y/N): "
choice = gets.chomp
inside = true if choice == 'Y'
while inside
  system('clear') || system('cls')
  puts "Welcome to our amazing Tic Tac Toe !!\n\n\n"
  global
  print " \n Do you want do play again? (Y/N): "
  choice = gets.chomp
  break if choice != 'Y' || choice != 'y'
end

puts 'Good Bye'
